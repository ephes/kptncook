{"id":"kptncook-7r4","title":"Ingredients list enhancements","description":"GitHub: https://github.com/ephes/kptncook/issues/38\nOpened by @ValleBL on 2024-06-06T08:12:11Z\n\nCurrently the ingredient is also set as the title for the entry. This will overload the list of ingredients. For me I've changed the title property to null resulting in a clean list.\r\n\r\n`title=\"\", quantity=quantity, unit=measure, note=note, food=food`\r\nMaybe overthink this or make it a toggle option in the ENV file.\r\n\r\nFurthermore while inspecting the json response I came across the attribute \"ingredient.ingredient.typ\" (Value \"regular\" or \"basic\")\r\nI guess this represent the two groups \"Du brauchst\" (-\u003e regular) and \"Das hast du bestimmt zu Hause\" (\"basic\")\r\n\r\nI tried adding python code to group the ingredients by the typ, but unfourtuantly did not found a working solution.\r\nMaybe someone with better python skills can review this.\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-21T08:15:40.738705+01:00","updated_at":"2025-12-26T10:38:41.816635+01:00","closed_at":"2025-12-26T10:38:41.816635+01:00","external_ref":"gh-38"}
{"id":"kptncook-817","title":"Fetch recipes based on different api endpoints","description":"GitHub: https://github.com/ephes/kptncook/issues/26\nOpened by @ephes on 2023-10-21T14:31:38Z\n\nHere are some api endpoints, maybe it would be nice to have some cli commands to fetch recipes from those endpoints?\r\n```\r\nhttps://mobile.kptncook.com/discovery/list/curated/6512a9475100004c009f516a?favorites=5b99084f2700007d089e190c\u0026lang=de\u0026store=de\u0026preferences=rt%3Adiet_vegetarian%2C\r\n\r\nalternative list ids:\r\n\t6512a9475100004c009f516a\r\n\t6511394a4f0000a5050f686e\r\n\t64edb8195000001309c52a4c\r\n\t651673793c00001a073cc9c2\r\n\t6511394a4f0000a5050f686e\r\n\r\n\r\nhttps://mobile.kptncook.com/discovery/list/automated/63778ff050000058041dd3a0?favorites=5eff3489690000937e9c421e%2C58da4cfc3900005f111778d4%2C53d043d770a559461ebed47f%2C5b99084f2700007d089e190c\u0026lang=de\u0026store=de\u0026preferences=rt%3Adiet_vegetarian%2C\r\n\r\nalternative list ids:\r\n\t63778ff050000058041dd3a0\r\n\t637790744c00002b04705c1a\r\n\t637e34864e00000801c96e72\r\n\t63779112480000e604488f09\r\n\t637f46234f00003600c27cf0\r\n\t637f46774400003800bf95e9\r\n\t637f489e4f00006e00ad3a91\r\n\r\nhttps://mobile.kptncook.com/discovery/list/latest?lang=de\u0026store=de\u0026preferences=rt%3Adiet_vegetarian%2C\r\n\r\nhttps://mobile.kptncook.com/discovery/list/recommended?lang=de\u0026store=de\u0026preferences=rt%3Adiet_vegetarian%2C\r\n\r\nhttps://mobile.kptncook.com/discovery/screen?v=2\u0026favorites=5b99084f2700007d089e190c\u0026lang=de\u0026store=de\u0026preferences=rt%3Adiet_vegetarian%2C\r\n\r\nhttps://mobile.kptncook.com/dailies?recipeFilter=veggie\u0026store=de\u0026zone=%2B02:00\u0026isSubscribed=false\u0026lang=de\r\n\r\nPOST https://mobile.kptncook.com/recipes/onboarding\r\n\t?lang=de\u0026store=de\r\ndata:\r\n\t{\"tags\":[\"rt:diet_vegetarian\"]}\r\n\r\nPOST https://mobile.kptncook.com/recipes/search?lang=de\u0026store=de\r\n\r\nhttps://mobile.kptncook.com/ingredients/popular?lang=de\u0026store=de\r\n\r\nPOST https://mobile.kptncook.com/recipes/withIngredients?lang=de\u0026store=de\r\ndata:\r\n\t{\"ingredientIds\":[\"52bc0f4f91217a1c01a8ad4e\"]}\r\n```\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-21T08:16:23.109251+01:00","updated_at":"2025-12-26T10:38:41.816161+01:00","closed_at":"2025-12-26T10:38:41.816161+01:00","external_ref":"gh-26"}
{"id":"kptncook-817.1","title":"Add discovery screen listing command","description":"Implement discovery screen listing using GET /discovery/screen?v=2. Provide a CLI command to show available discovery lists (id/title/listType) and quickSearch entries. Use standard lang/store/preferences params with kptnkey.\n","acceptance_criteria":"- CLI command discovery-screen lists list id/title/type\\n- quickSearch entries are shown (or can be toggled)\\n- request uses kptnkey params and handles HTTP errors","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-24T09:55:57.228305+01:00","updated_at":"2025-12-24T10:13:39.125342+01:00","closed_at":"2025-12-24T10:13:39.125342+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-817.1","depends_on_id":"kptncook-817","type":"parent-child","created_at":"2025-12-24T09:55:57.230581+01:00","created_by":"daemon"}]}
{"id":"kptncook-817.2","title":"Add dailies fetch command","description":"Add API and CLI support for /dailies so users can fetch full daily recipes beyond the \"today\" endpoint. This endpoint already returns full recipe payloads including steps/nutrition.\n","acceptance_criteria":"- API client method calls /dailies with kptnkey and supports recipeFilter/zone/isSubscribed\\n- CLI command outputs recipes and can optionally save to local repository","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-24T09:56:02.503713+01:00","updated_at":"2025-12-24T10:21:52.810724+01:00","closed_at":"2025-12-24T10:21:52.810724+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-817.2","depends_on_id":"kptncook-817","type":"parent-child","created_at":"2025-12-24T09:56:02.505971+01:00","created_by":"daemon"}]}
{"id":"kptncook-817.3","title":"Add onboarding recipes-by-tags command","description":"Implement onboarding/tag-based recipe discovery via POST /recipes/onboarding. Response is summary recipes and should be resolvable to full recipes via /recipes/search.\n","acceptance_criteria":"- API client method posts tags to /recipes/onboarding with kptnkey params\\n- CLI supports repeatable --tag values and resolves to full recipes\\n- uses shared resolver helper","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-24T09:56:08.225518+01:00","updated_at":"2025-12-24T10:53:20.687682+01:00","closed_at":"2025-12-24T10:53:20.687682+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-817.3","depends_on_id":"kptncook-817","type":"parent-child","created_at":"2025-12-24T09:56:08.227744+01:00","created_by":"daemon"},{"issue_id":"kptncook-817.3","depends_on_id":"kptncook-817.7","type":"blocks","created_at":"2025-12-24T10:01:31.501841+01:00","created_by":"daemon"}]}
{"id":"kptncook-817.4","title":"Add ingredients discovery and recipes-with-ingredients","description":"Add ingredient discovery and recipes-with-ingredients flows. /ingredients/popular requires Token and returns ingredient IDs as _id.$oid, which are used as ingredientIds strings for /recipes/withIngredients.\n","acceptance_criteria":"- API client supports /ingredients/popular with Token requirement\\n- API client supports /recipes/withIngredients with ingredientIds list of oid strings\\n- CLI commands for ingredients-popular and recipes-with-ingredients with clear error if Token missing","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-24T09:56:13.520265+01:00","updated_at":"2025-12-24T11:08:13.686176+01:00","closed_at":"2025-12-24T11:08:13.686176+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-817.4","depends_on_id":"kptncook-817","type":"parent-child","created_at":"2025-12-24T09:56:13.522309+01:00","created_by":"daemon"}]}
{"id":"kptncook-817.5","title":"Document new discovery/dailies/ingredient commands","description":"Update README usage section and CHANGELOG entries for new discovery/dailies/onboarding/ingredients commands once features land.\n","acceptance_criteria":"- README includes new commands and examples\\n- CHANGELOG.md updated for user-visible CLI additions","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-24T09:56:18.574509+01:00","updated_at":"2025-12-24T12:24:06.30811+01:00","closed_at":"2025-12-24T12:24:06.30811+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-817.5","depends_on_id":"kptncook-817","type":"parent-child","created_at":"2025-12-24T09:56:18.576715+01:00","created_by":"daemon"},{"issue_id":"kptncook-817.5","depends_on_id":"kptncook-817.1","type":"blocks","created_at":"2025-12-24T10:01:31.669202+01:00","created_by":"daemon"},{"issue_id":"kptncook-817.5","depends_on_id":"kptncook-817.2","type":"blocks","created_at":"2025-12-24T10:01:31.83804+01:00","created_by":"daemon"},{"issue_id":"kptncook-817.5","depends_on_id":"kptncook-817.3","type":"blocks","created_at":"2025-12-24T10:01:32.00653+01:00","created_by":"daemon"},{"issue_id":"kptncook-817.5","depends_on_id":"kptncook-817.4","type":"blocks","created_at":"2025-12-24T10:01:32.176679+01:00","created_by":"daemon"},{"issue_id":"kptncook-817.5","depends_on_id":"kptncook-817.6","type":"blocks","created_at":"2025-12-24T10:01:32.344402+01:00","created_by":"daemon"}]}
{"id":"kptncook-817.6","title":"Add discovery list fetch + resolve summaries","description":"Fetch discovery list recipes for latest/recommended and for curated/automated list IDs. Resolve summary list entries to full recipes via the shared resolver helper (recipes/search). Optionally save results to the local repository.\n","acceptance_criteria":"- CLI command discovery-list supports latest/recommended without list-id\\n- curated/automated list-id required and validated\\n- summary recipes resolved to full payloads via resolver helper","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-24T10:01:17.534266+01:00","updated_at":"2025-12-24T10:39:22.984737+01:00","closed_at":"2025-12-24T10:39:22.984737+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-817.6","depends_on_id":"kptncook-817","type":"parent-child","created_at":"2025-12-24T10:01:17.537516+01:00","created_by":"daemon"},{"issue_id":"kptncook-817.6","depends_on_id":"kptncook-817.7","type":"blocks","created_at":"2025-12-24T10:01:31.332622+01:00","created_by":"daemon"}]}
{"id":"kptncook-817.7","title":"Add summary recipe resolver helper","description":"Add a shared API client helper to resolve summary recipe entries into full recipes via POST /recipes/search. This should accept a list of recipe ids (or summary items) and return RecipeInDb models, handling empty input and empty responses.\n","acceptance_criteria":"- helper resolves identifier/uid lists via recipes/search\\n- empty input returns empty list\\n- used by discovery list and onboarding features","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-24T10:01:23.069722+01:00","updated_at":"2025-12-24T10:31:10.076096+01:00","closed_at":"2025-12-24T10:31:10.076096+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-817.7","depends_on_id":"kptncook-817","type":"parent-child","created_at":"2025-12-24T10:01:23.071943+01:00","created_by":"daemon"}]}
{"id":"kptncook-818","title":"Add locale fallback for exporter localized strings","description":"Follow-up from kptncook-t6z: implement locale fallback order (de -\u003e en -\u003e any) for exporter localized fields instead of hard-coding .de.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-22T07:50:09.049452+01:00","updated_at":"2025-12-26T10:32:31.722556+01:00","closed_at":"2025-12-26T10:32:31.722556+01:00"}
{"id":"kptncook-819","title":"Refactor shared exporter utilities","description":"Follow-up from kptncook-t6z: extract shared exporter helpers (asciify_string, get_cover, move_to_target_dir, zip writing) into a utility module or base class to reduce duplication.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-22T07:50:13.610392+01:00","updated_at":"2025-12-26T10:32:31.723263+01:00","closed_at":"2025-12-26T10:32:31.723263+01:00"}
{"id":"kptncook-820","title":"PR #51: Export step ingredients to Mealie","description":"Track review/merge of gh-51 (dragbone:export-step-ingredients-to-mealie). Adds ingredient references to Mealie steps and extends tests.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-26T11:18:33.266088+01:00","updated_at":"2025-12-26T19:05:28.091992+01:00","closed_at":"2025-12-26T19:05:28.091992+01:00","external_ref":"gh-51"}
{"id":"kptncook-820.1","title":"Update KptnCook models for ingredient IDs and step ingredient parsing","description":"Add ingredient_id (alias ingredientId) to StepIngredient while keeping existing fields; add id on IngredientDetails (reuse RecipeId); verify parsing against fixture/API variants and extend parsing tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T11:45:46.307175+01:00","updated_at":"2025-12-26T19:05:14.565473+01:00","closed_at":"2025-12-26T19:05:14.565473+01:00","dependencies":[{"issue_id":"kptncook-820.1","depends_on_id":"kptncook-820","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"kptncook-820.2","title":"Implement Mealie export ingredient reference mapping","description":"Generate ingredient reference IDs; map step ingredient references by ingredientId; handle missing/unknown IDs safely; de-dup references; keep localized_fallback for step text; align camel-case field names with Mealie API payload.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T11:45:49.535349+01:00","updated_at":"2025-12-26T19:05:17.398704+01:00","closed_at":"2025-12-26T19:05:17.398704+01:00","dependencies":[{"issue_id":"kptncook-820.2","depends_on_id":"kptncook-820","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"kptncook-820.2","depends_on_id":"kptncook-820.1","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"kptncook-820.3","title":"Expand Mealie export tests and update CHANGELOG","description":"Add tests for ingredient reference mapping (including missing/duplicate cases) and document user-visible change.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T11:45:52.970511+01:00","updated_at":"2025-12-26T19:05:20.822004+01:00","closed_at":"2025-12-26T19:05:20.822004+01:00","dependencies":[{"issue_id":"kptncook-820.3","depends_on_id":"kptncook-820","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"kptncook-820.3","depends_on_id":"kptncook-820.2","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"kptncook-820.4","title":"Run quality gates","description":"Run just lint, just typecheck, and just test.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T11:45:57.987905+01:00","updated_at":"2025-12-26T19:05:23.864733+01:00","closed_at":"2025-12-26T19:05:23.864733+01:00","dependencies":[{"issue_id":"kptncook-820.4","depends_on_id":"kptncook-820","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"kptncook-820.4","depends_on_id":"kptncook-820.3","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"kptncook-820.5","title":"Provide PR #51 feedback summary","description":"Summarize deviations from PR approach (model IDs, safe mapping, locale fallback, aliasing) and share constructive review notes with the author.","notes":"Ready for review: Posted PR #51 feedback summary at https://github.com/ephes/kptncook/pull/51#issuecomment-3692839198.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T11:54:36.05131+01:00","updated_at":"2025-12-26T14:03:56.279806+01:00","closed_at":"2025-12-26T14:03:56.279806+01:00","dependencies":[{"issue_id":"kptncook-820.5","depends_on_id":"kptncook-820","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"kptncook-821","title":"Mealie token authentication","description":"Implement Mealie API token auth with minimal settings changes (no settings refactor).","acceptance_criteria":"- MEALIE_API_TOKEN supported as alternative to username/password\\n- CLI uses token when present; username/password still work\\n- Tests cover token login path\\n- README.md + CHANGELOG.md updated","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-26T11:18:37.005083+01:00","updated_at":"2025-12-26T21:34:53.363369+01:00","closed_at":"2025-12-26T21:34:53.363369+01:00","external_ref":"gh-45"}
{"id":"kptncook-821.1","title":"Add MEALIE_API_TOKEN setting (optional)","description":"Add mealie_api_token to Settings without introducing new import-time validation.","acceptance_criteria":"- Settings exposes mealie_api_token as optional\\n- No new import-time validation introduced","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T19:46:47.197198+01:00","updated_at":"2025-12-26T21:34:50.286219+01:00","closed_at":"2025-12-26T21:34:50.286219+01:00","dependencies":[{"issue_id":"kptncook-821.1","depends_on_id":"kptncook-821","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"kptncook-821.2","title":"Add token login path in Mealie client","description":"Add login_with_token() and select token vs username/password in get_mealie_client().","acceptance_criteria":"- MealieApiClient supports login_with_token\\n- get_mealie_client uses token when set, else username/password\\n- Helpful error when neither credential is configured","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T19:46:50.32062+01:00","updated_at":"2025-12-26T21:34:50.286734+01:00","closed_at":"2025-12-26T21:34:50.286734+01:00","dependencies":[{"issue_id":"kptncook-821.2","depends_on_id":"kptncook-821","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"kptncook-821.3","title":"Add token auth tests","description":"Add tests for token login selection (no settings refactor assumptions).","acceptance_criteria":"- Tests cover token login path\\n- Tests cover username/password fallback","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T19:46:53.645409+01:00","updated_at":"2025-12-26T21:34:50.286739+01:00","closed_at":"2025-12-26T21:34:50.286739+01:00","dependencies":[{"issue_id":"kptncook-821.3","depends_on_id":"kptncook-821","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"kptncook-821.4","title":"Document token auth","description":"Update README and CHANGELOG for MEALIE_API_TOKEN usage.","acceptance_criteria":"- README documents MEALIE_API_TOKEN\\n- CHANGELOG.md updated","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T19:46:57.39888+01:00","updated_at":"2025-12-26T21:34:50.286743+01:00","closed_at":"2025-12-26T21:34:50.286743+01:00","dependencies":[{"issue_id":"kptncook-821.4","depends_on_id":"kptncook-821","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"kptncook-822","title":"Settings refactor: explicit loading","description":"Refactor settings to avoid import-time validation and make configuration explicit across modules. Split out of gh-45.","acceptance_criteria":"- No Settings validation at import time\\n- All modules use explicit settings access (no global settings side effects)\\n- Tests updated to use fixtures without .env\\n- README/CHANGELOG note behavior change","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-26T19:47:01.950952+01:00","updated_at":"2025-12-26T19:47:01.950952+01:00"}
{"id":"kptncook-822.1","title":"Define settings access approach","description":"Decide on get_settings() helper vs dependency injection and document the plan.","acceptance_criteria":"- Chosen approach documented in issue notes","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T19:47:10.226443+01:00","updated_at":"2025-12-26T19:47:10.226443+01:00","dependencies":[{"issue_id":"kptncook-822.1","depends_on_id":"kptncook-822","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"kptncook-822.2","title":"Refactor modules to use explicit settings","description":"Remove global settings imports and pass settings or config values in api, mealie, paprika, tandoor, ingredient_groups.","acceptance_criteria":"- Modules no longer import global settings\\n- Call sites updated accordingly","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T19:47:13.900031+01:00","updated_at":"2025-12-26T19:47:13.900031+01:00","dependencies":[{"issue_id":"kptncook-822.2","depends_on_id":"kptncook-822","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"kptncook-822.3","title":"Update CLI settings load","description":"Load settings once in CLI entrypoint and wire into clients/exporters.","acceptance_criteria":"- CLI initializes settings explicitly\\n- No import-time validation side effects","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T19:47:17.217732+01:00","updated_at":"2025-12-26T19:47:17.217732+01:00","dependencies":[{"issue_id":"kptncook-822.3","depends_on_id":"kptncook-822","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"kptncook-822.4","title":"Update tests for explicit settings","description":"Adjust fixtures to inject settings and add coverage for import-time behavior.","acceptance_criteria":"- Tests run without .env\\n- Settings behavior covered","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T19:47:20.466676+01:00","updated_at":"2025-12-26T19:47:20.466676+01:00","dependencies":[{"issue_id":"kptncook-822.4","depends_on_id":"kptncook-822","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"kptncook-822.5","title":"Document settings refactor","description":"Update README/CHANGELOG to explain new settings behavior.","acceptance_criteria":"- README updated\\n- CHANGELOG.md updated","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T19:47:23.455906+01:00","updated_at":"2025-12-26T19:47:23.455906+01:00","dependencies":[{"issue_id":"kptncook-822.5","depends_on_id":"kptncook-822","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"kptncook-8q4","title":"[Bug] 400 and 301 Errors on mealie sync","description":"GitHub: https://github.com/ephes/kptncook/issues/55\nOpened by @tilk48 on 2025-04-09T15:44:48Z\n\nI setup this tool and tried to sync my recipes. The pull from KptnCook worked flawlessly, but the import into mealie sadly failes. \n\nMealie Version:  v2.8.0\nCLI version: latest (9.4.2025)\n\nStacktrace:\n\n![Image](https://github.com/user-attachments/assets/390c9619-90c2-45cc-91ec-0951b7c157e3)\n\n![Image](https://github.com/user-attachments/assets/e4677d0d-f4ed-4f1e-adec-751f11deee75)\n\nRecipes JSON:\n[kptncook.json](https://github.com/user-attachments/files/19669814/kptncook.json)\n\nI would be really grateful if someone could give me a few how to get around this. Thanks :)\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-21T08:14:33.324136+01:00","updated_at":"2025-12-26T10:38:41.816638+01:00","closed_at":"2025-12-26T10:38:41.816638+01:00","external_ref":"gh-55"}
{"id":"kptncook-a8f","title":"Error on mealie sync","description":"GitHub: https://github.com/ephes/kptncook/issues/36\nOpened by @dvogt23 on 2024-04-03T10:27:36Z\n\nHey thanks for this great script üëãüèæ  but since some days I getting following error:\r\n\u003cimg width=\"1134\" alt=\"Screenshot 2024-04-03 at 12 24 08\" src=\"https://github.com/ephes/kptncook/assets/9352647/a08042c5-159c-4ce1-ab6d-807414a5dc46\"\u003e\r\n\r\nDo you have an idea whats wrong?\r\n\r\nError:\r\n```python\r\nAttributeError: 'list' object has no attribute 'get'\r\n```\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-21T08:16:20.692347+01:00","updated_at":"2025-12-26T10:38:41.816629+01:00","closed_at":"2025-12-26T10:38:41.816629+01:00","external_ref":"gh-36"}
{"id":"kptncook-c8c","title":"Docker Container","description":"GitHub: https://github.com/ephes/kptncook/issues/37\nOpened by @ValleBL on 2024-05-26T17:17:16Z\n\nFirst of all: Great project!\r\n\r\nI've spent the last evening to play arround and set up the application.\r\nDoing that I thought about a docker container to run everything.\r\nI never built a container by myself, but I want to try that with the KptnCook Integration.\r\n\r\nIf someone already created a container or push me in the right directon I would really appricatiate.\r\nIf not I will update this issue/enhancemant when I got a working container\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-21T08:15:41.753113+01:00","updated_at":"2025-12-23T13:29:09.242625+01:00","closed_at":"2025-12-23T13:16:26.345186+01:00","external_ref":"gh-37"}
{"id":"kptncook-gtb","title":"[Feature suggestion] Delete recipes from local DB/json","description":"GitHub: https://github.com/ephes/kptncook/issues/54\nOpened by @peevishkiwi on 2025-04-04T13:44:50Z\n\nAfter using your script for some time, i have an idea which i want to share here. \n\nWhen automating the command **kptncook save-todays-recipes**, you can automatically pull the three daily recipes. \nPersonally i don't open kptncook every day to see if i like the receips. And even if you do, it is pulling all 3 daily/weekly recipes.\n\nNow you have recipes, which you don't like / want to sync to mealie. Yes, you can delete them in mealie, but they will be synced again \nas they are still in the local database. So when listing all recipes (**kptncook list-recipes**), it would be a nice addition to be able to delete \na specific recipe(s). They are all numbered when listing them, so for example: **mealie delete NUMBER(S)**. \nThis command would remove the receipt form the local DB/json to avoid syncing it to mealie or importing it to any other app with .json.\n\nWhat do you think, anyone else who would like / use this feature?\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-21T08:15:37.31939+01:00","updated_at":"2025-12-21T12:28:54.997929+01:00","closed_at":"2025-12-21T12:28:31.520263+01:00","external_ref":"gh-54"}
{"id":"kptncook-t6z","title":"Tandoor Export","description":"GitHub: https://github.com/ephes/kptncook/issues/49\nOpened by @michael-arndt-gcx on 2025-02-20T13:12:41Z\n\nHi, I would love to have a tandoor export.\n\nI'll attach a PR. It works fine for me for a large set of receipts (over 500, but I only sampled for correctness).\nIt's based on the Paprika exporter.\n\nWhat I don't like:\n * it's hard-coded for german (just like the others)\n * it's hard-coded to 3 servings. Not really a problem though as it can be scaled in tandoor.\n\nLet me know what you think.\n","acceptance_criteria":"- Exporter handles missing cover images without crashing.\n- Recipe.uid remains optional; exporter falls back to id.oid for source_url.\n- Tandoor export command is available via CLI.\n- Tests cover exporter behavior and model changes.\n- README and CHANGELOG document the new exporter.","notes":"Reference PR: https://github.com/ephes/kptncook/pull/50\nAim for minimal port; follow-ups tracked separately (locale fallback, shared utils).\nFollow-ups: kptncook-818, kptncook-819.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-21T08:15:38.251046+01:00","updated_at":"2025-12-23T07:25:38.383868+01:00","closed_at":"2025-12-22T09:58:56.582059+01:00","external_ref":"gh-49"}
{"id":"kptncook-t6z.1","title":"Port Tandoor exporter to src layout","description":"Add src/kptncook/tandoor.py based on PR #50 and align with current src/ layout.\n\nNotes:\n- Hard-code servings to 3 for now.\n- Locale fallback order: de -\u003e en -\u003e any available.\n- Export should not crash when cover image is missing/404 (skip image or write placeholder safely).\n- Keep zip format with recipe.json and image.jpg when available.","notes":"- Hard-code servings to 3 for now (Tandoor can scale).\n- Export should not crash when cover image is missing/404 (skip image or safe placeholder).\n- Keep zip format with recipe.json and image.jpg when available.\n- Locale fallback is a follow-up; keep current locale behavior for this port.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T12:56:56.507335+01:00","updated_at":"2025-12-22T08:31:59.964217+01:00","closed_at":"2025-12-22T08:31:59.964217+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-t6z.1","depends_on_id":"kptncook-t6z","type":"parent-child","created_at":"2025-12-21T12:57:21.237303+01:00","created_by":"import"}]}
{"id":"kptncook-t6z.2","title":"Update models for Tandoor step ingredients","description":"Extend models for step ingredients and keep backward compatibility.\n\nNotes:\n- Add StepIngredientUnit/LocalizedStepIngredientUnit/StepIngredientDetails.\n- Allow RecipeStep.ingredients list entries to be optional/null.\n- Make Recipe.uid optional (fallback to id.oid in exporter).\n- Add optional Recipe.rtype for keyword use.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T12:57:01.423157+01:00","updated_at":"2025-12-22T09:22:14.148876+01:00","closed_at":"2025-12-22T09:22:14.148876+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-t6z.2","depends_on_id":"kptncook-t6z","type":"parent-child","created_at":"2025-12-21T12:57:21.237885+01:00","created_by":"import"}]}
{"id":"kptncook-t6z.3","title":"Wire CLI command for Tandoor export","description":"Add export-recipes-to-tandoor CLI command and wiring.\n\nNotes:\n- Import TandoorExporter in src/kptncook/__init__.py.\n- Add command, update __all__, and keep output message consistent.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T12:57:04.822872+01:00","updated_at":"2025-12-22T09:25:24.410638+01:00","closed_at":"2025-12-22T09:25:24.410638+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-t6z.3","depends_on_id":"kptncook-t6z","type":"parent-child","created_at":"2025-12-21T12:57:21.238406+01:00","created_by":"import"}]}
{"id":"kptncook-t6z.4","title":"Add/adjust tests for Tandoor exporter","description":"Add tandoor tests and align cleanup behavior.\n\nNotes:\n- Add tests/tandoor_test.py using tmp paths and mocked httpx.\n- Cover missing-image path so export does not crash.\n- Remove unrelated allrecipes.zip cleanup from paprika tests or scope it to tandoor tests.\n- Update tests fixtures if needed for optional uid.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T12:57:09.717928+01:00","updated_at":"2025-12-22T09:37:32.922936+01:00","closed_at":"2025-12-22T09:37:32.922936+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-t6z.4","depends_on_id":"kptncook-t6z","type":"parent-child","created_at":"2025-12-21T12:57:21.238913+01:00","created_by":"import"}]}
{"id":"kptncook-t6z.5","title":"Document Tandoor export","description":"Update README and CHANGELOG for the new Tandoor export command.\n\nNotes:\n- Add command to README usage list and brief description.\n- Add CHANGELOG entry for user-visible feature.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T12:57:13.9172+01:00","updated_at":"2025-12-22T09:40:34.583098+01:00","closed_at":"2025-12-22T09:40:34.583098+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-t6z.5","depends_on_id":"kptncook-t6z","type":"parent-child","created_at":"2025-12-21T12:57:21.239412+01:00","created_by":"import"}]}
{"id":"kptncook-wif","title":"import into Mealie 3.2.1 fails because of LocalizedString types requirement?","description":"GitHub: https://github.com/ephes/kptncook/issues/60\nOpened by @krikk on 2025-09-20T14:18:09Z\n\nfetched on recipe with:\n\n`kptncook search-by-id 6279169b5100000701201fee`\n\nworks fine, gets valid json\n\ntry to sync to local mealie (3.2.1) with this command:\n\n`kptncook sync-with-mealie`\n\nfails with this error:\n```\nCould not parse recipe 6279169b5100000701201fee: 47 validation errors for Recipe\nlocalizedTitle\n  Field required [type=missing, input_value={'_id': {'$oid': '6279169...'$date': 1652102811884}}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nauthorComment\n  Input should be a valid dictionary or instance of LocalizedString [type=model_type, input_value='Parme-sahnig und crunchy!', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\nsteps.0.title\n  Input should be a valid dictionary or instance of LocalizedString [type=model_type, input_value='Alles parat?', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\nsteps.1.title\n  Input should be a valid dictionary or instance of LocalizedString [type=model_type, input_value='Kartoffeln waschen und i...eine W√ºrfel schneiden.', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\n....\nsteps.15.title\n  Input should be a valid dictionary or instance of LocalizedString [type=model_type, input_value='Parmesan, Zitronensaft u...chlich Pfeffer w√ºrzen.', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\nsteps.16.title\n  Input should be a valid dictionary or instance of LocalizedString [type=model_type, input_value='Cremige Parmesan-Kartoff...arnieren und genie√üen.', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\ningredients.0.ingredient.localizedTitle\n  Field required [type=missing, input_value={'_id': {'$oid': '5536511...'$date': 1711029414109}}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ningredients.0.ingredient.uncountableTitle\n  Input should be a valid dictionary or instance of LocalizedString [type=model_type, input_value='Pfeffer', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\n...\ningredients.10.ingredient.localizedTitle\n  Field required [type=missing, input_value={'_id': {'$oid': '554a7f6...'$date': 1712751687140}}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ningredients.10.ingredient.uncountableTitle\n  Input should be a valid dictionary or instance of LocalizedString [type=model_type, input_value='Blattspinat, frisch', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\ningredients.11.ingredient.localizedTitle\n  Field required [type=missing, input_value={'_id': {'$oid': '52bc312...'$date': 1711456851186}}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ningredients.11.ingredient.uncountableTitle\n  Input should be a valid dictionary or instance of LocalizedString [type=model_type, input_value='Parmesan', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\ningredients.12.ingredient.localizedTitle\n  Field required [type=missing, input_value={'_id': {'$oid': '536f7de...'$date': 1755511875286}}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ningredients.12.ingredient.uncountableTitle\n  Input should be a valid dictionary or instance of LocalizedString [type=model_type, input_value='Haselnusskerne, ganz', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\ningredients.13.ingredient.localizedTitle\n  Field required [type=missing, input_value={'_id': {'$oid': '52bc2ee...'$date': 1721825511663}}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ningredients.13.ingredient.uncountableTitle\n  Input should be a valid dictionary or instance of LocalizedString [type=model_type, input_value='Knoblauch', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\nCreated 0 recipes\n```\nanyone any clue how to fix this...?\n\nbig thanks for the script anyways, so i at least have a backup of my kpntcook favorites...\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-21T08:14:32.293911+01:00","updated_at":"2025-12-23T10:09:45.059875+01:00","closed_at":"2025-12-23T09:49:56.684981+01:00","external_ref":"gh-60"}
{"id":"kptncook-x7q","title":"Use all available tags","description":"GitHub: https://github.com/ephes/kptncook/issues/41\nOpened by @Kadz93 on 2024-10-09T13:37:04Z\n\nHi this  is more a feature request.\nAfter running the script in docker for several weeks now, I realised that the kptncook recipes have invalid tags, e.g. a meal with chicken is labeled as vegetarian.\n\nThis made me realise and question,\nWhy do we ignore the \"activeTags\" in the recipe json?\nI know there is some useless stuff like \"budget_under_15_us\" but most of the stuff seems pretty nice.\n\nCan we add these tags to the model, i don't need filtering that removes some useless tags.\n\nMuch appreciation guys\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-21T08:15:39.777078+01:00","updated_at":"2025-12-23T10:56:50.488181+01:00","closed_at":"2025-12-23T10:45:33.204433+01:00","external_ref":"gh-41"}
{"id":"kptncook-x7q.1","title":"Add active_tags to KptnCook Recipe model","description":"Add active_tags field (alias activeTags) to the KptnCook Recipe model and ensure missing field is handled. Include parsing tests for present/absent activeTags.","acceptance_criteria":"Recipe model exposes active_tags (alias activeTags). Parsing succeeds with and without activeTags in fixtures/tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T10:07:29.714261+01:00","updated_at":"2025-12-23T10:14:54.754316+01:00","closed_at":"2025-12-23T10:14:54.754316+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-x7q.1","depends_on_id":"kptncook-x7q","type":"parent-child","created_at":"2025-12-23T10:09:45.061408+01:00","created_by":"import"}]}
{"id":"kptncook-x7q.2","title":"Export active tags to Mealie tags","description":"Propagate active_tags into Mealie export as RecipeTag entries. Dedupe with the existing kptncook tag; ensure tag IDs are created/updated via existing tag workflow.","acceptance_criteria":"Mealie export includes active_tags as RecipeTag entries, deduped with existing kptncook tag; tag IDs resolved via existing workflow.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T10:07:34.221174+01:00","updated_at":"2025-12-23T10:19:36.617719+01:00","closed_at":"2025-12-23T10:19:36.617719+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-x7q.2","depends_on_id":"kptncook-x7q","type":"parent-child","created_at":"2025-12-23T10:09:45.06194+01:00","created_by":"import"},{"issue_id":"kptncook-x7q.2","depends_on_id":"kptncook-x7q.1","type":"blocks","created_at":"2025-12-23T10:12:16.077133+01:00","created_by":"import"}]}
{"id":"kptncook-x7q.3","title":"Export active tags to Tandoor keywords","description":"Add active_tags to Tandoor keywords, deduping with kptncook and keeping rtype as a keyword.","acceptance_criteria":"Tandoor keywords include active_tags (verbatim), deduped with kptncook; rtype retained.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T10:07:37.42425+01:00","updated_at":"2025-12-23T10:31:36.614402+01:00","closed_at":"2025-12-23T10:31:36.614402+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-x7q.3","depends_on_id":"kptncook-x7q","type":"parent-child","created_at":"2025-12-23T10:09:45.062445+01:00","created_by":"import"},{"issue_id":"kptncook-x7q.3","depends_on_id":"kptncook-x7q.1","type":"blocks","created_at":"2025-12-23T10:12:16.077716+01:00","created_by":"import"}]}
{"id":"kptncook-x7q.4","title":"Update tests and changelog for active tags","description":"Add/adjust tests for active tag propagation and update CHANGELOG.md for the user-visible change. Paprika export remains unchanged.","acceptance_criteria":"Exporter tests cover active tag propagation; CHANGELOG.md updated to note active tag export. Paprika remains unchanged.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T10:07:41.797497+01:00","updated_at":"2025-12-23T10:38:00.508412+01:00","closed_at":"2025-12-23T10:38:00.508412+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kptncook-x7q.4","depends_on_id":"kptncook-x7q","type":"parent-child","created_at":"2025-12-23T10:09:45.062959+01:00","created_by":"import"},{"issue_id":"kptncook-x7q.4","depends_on_id":"kptncook-x7q.1","type":"blocks","created_at":"2025-12-23T10:12:16.078301+01:00","created_by":"import"}]}
